<HTML>
<HEAD>
  <TITLE> BIANCHI v1.1 documentation </TITLE>
  <LINK rel="stylesheet" href="stylesheet.css" type="text/css" /> 
</HEAD>

<BODY>
<H1 ALIGN=center> BIANCHI package documentation </H1>

<H3 ALIGN=center> <a href="http://www.jasonmcewen.org/">Jason McEwen </a></H3>

<P>
This package provides functionality to support the simulation of
Bianchi Type VIIh induced temperature fluctuations in CMB maps
of a universe with shear and rotation.  The implementation is
based on the solutions to the Bianchi models derived by
<a href="http://adsabs.harvard.edu/abs/1985MNRAS.213..917B">Barrow et al. (1985)</a>, which do not incorporate any dark
energy component.  Functionality is provided to compute the
induced fluctuations on the sphere directly in either real or
harmonic space.  <b>By default unitless Delta_T / T maps are produced,
unless the MILLIK option is specified at compilation, in which case the
maps are produced in units of mK.</b>

<p>
For a description of the equations implemented to perform the Bianchi
simulations see the Appendix of our paper:

<blockquote>
J. D. McEwen, M. P. Hobson, A. N. Lasenby. and D. J. Mortlock.
<a
href="http://www.jasonmcewen.org/publications.html#mcewen:2006:bianchi">
Non-Gaussianity detections in the Bianchi VIIh  corrected WMAP 1-year data made with directional spherical wavelets</a>.
Mon. Not. Roy. Astron. Soc., 369(4):1858-1868, 2006.
</blockquote>
</p>

<P>
The library design is based on object-oriented principles and is
implemented in Fortran 90.  Generally one must instantiate a class
object using the corresponding init routines.  The instatiated object
should be freed once it is no longer required with the corresponding
free routine (this deallocates all memory associated with the object).

<p>
For further details see the
<a href="http://github.com/astro-informatics/bianchi">README.txt</a>
file.




<HR>
<H2> Installation </H2>

<p>
The BIANCHI package requires the
<a href="http://www.jasonmcewen.org/codes.html">S2</a>,
<a href="http://healpix.jpl.nasa.gov/">HEALPix</a>
and
<a
href="http://heasarc.gsfc.nasa.gov/docs/software/fitsio/fitsio.html">CFITSIO</a>
packages.  Please note that all BIANCHI code is written in
Fortran 90 and a suitable Fortran compiler will be required.


<H3> Compiling library </H3>

Before compiling you may need to edit the <a href="../makefile">makefile</a> to specify your
compiler and to link with the appropriate libraries.  Once you have
set the makefile up for your system then the BIANCHI library may be
compilied by running:
<blockquote>   
<code> >> make lib</code>
</blockquote>
By default simulations are produced as unitless Delta_T / T contributions.  To
produce maps in units of milli Kelvins the preprocessor variable
MILLIK must be set in the makefile.

<p>
For details on how to use the BIANCHI library code see the documentation
<a href="#library">below<a>.

<H3> Compiling utility programs </H3>
<p>
The BIANCHI utility programs may be compiled by running:
<blockquote>   
<code>>> make prog</code>
</blockquote>

For details on how to use the BIANCHI utility programs see the documentation
<a href="#utility">below<a>.

<H3> Testing </H3>
<p>
To test the BIANCHI installation run
<blockquote>   
<code>>> bin/bianchi_sim param.par</code>
</blockquote>

using the param.par file provided.  This should create an output sky
map that is identical to one of the files in the test directory
(which file depends on whether you use Delta_T /T or milli Kelvin units).


<H3> Documentation </H3>
<p>
By default, the BIANCHI code ships with only this single documentation
page.  The remainder of the documentation is automatically generated
from the source code using 
<a href="http://theory.lcs.mit.edu/~edemaine/f90doc/">f90doc</a>.  
Please ensure that you have f90doc installed in order to generate this
documentation.  Once f90doc is installed the documentation may be 
generated by running:
<blockquote>   
<code>>> make docs</code>
</blockquote>

<H3> Cleaning up </H3>

To clean up your version of the BIANCHI code and return all code to its
original state run:
<blockquote>   
<code>>> make clean</code>
</blockquote>

To remove all documentation, except the front page (i.e. this file),
run:
<blockquote>   
<code>>> make cleandocs</code>
</blockquote>






<HR>
<a name="library"><H2> Library classes </H2></a>

An overview of the classes that comprise the BIANCHI library is given
here.  Please click on the link for each class for detailed
documentation. 

<p>
<CODE><a href=bianchi_sky_mod.html>bianchi_sky_mod</a></CODE>: 
  Provides functionality to simulate a Bianchi VII_h model of the
  CMB. Uses the s2_sky module to create healpix sky maps. 

<p>
<CODE><a href=bianchi_error_mod.html>bianchi_error_mod</a></CODE>: 
  Functionality to handle errors that may occur in the bianchi
  library. Public bianchi error codes are defined, with corresponding
  private error comments and default halt execution status. 
<p>
<CODE><a href=bianchi_plm1table_mod.html>bianchi_plm1table_mod</a></CODE>:
 Lookup table for associated Legendre function for case where m=1,
 N_theta_grid=100 and lmax<64.


<HR>
<a name="utility"><H2> Utility programs </H2></a>

Utility programs based on the BIANCHI library are listed here. 
Please click on the link for the program for detailed
documentation. 

<P>
<CODE><a href=bianchi_sim.html>bianchi_sim</a></CODE>: 
  Simulate a Bianchi VII_h model of the CMB.
  This program may be run interactively (by running <code>>
  bianchi_sim</code>), or with an input parameter file (by running
  <code>> bianchi_sim parameters.par</code>). 


<HR>
<H2> Support  </H2>

For support or to report any bugs please contact Jason McEwen.


<HR>
<H2> Reference  </H2>

The BIANCHI package was written originally to determine whether recent
evidence for non-Gaussianity in WMAP CMB observations were due to
Bianchi contributions.  If you use the code
to produce published works please reference the download site
<a
href="http://www.jasonmcewen.org">http://www.jasonmcewen.org</a>
and our related paper:

<blockquote>
J. D. McEwen, M. P. Hobson, A. N. Lasenby. and D. J. Mortlock.
<a
href="http://www.jasonmcewen.org/publications.html#mcewen:2006:bianchi">
Non-Gaussianity detections in the Bianchi VIIh  corrected WMAP 1-year data made with directional spherical wavelets</a>.
Mon. Not. Roy. Astron. Soc., 369(4):1858-1868, 2006.
</blockquote>


<HR>
<H2> Version </H2>

<P>
<STRONG>Author:</STRONG> J. D. McEwen
<P>
<STRONG>Version:</STRONG> 1.1 - July 2008

<H3> Version History </H3>

<ul>

<li>Version 1.1<br>
Updates to documentation.

<p>
<li>Version 1.0<br>
First public release of package.


</ul>


<HR> 
<H2> License </H2>

     <blockquote>
     <p>
     Bianchi code to simulate induced temperature fluctuations in CMB maps<br>
     Copyright (C) 2005  Jason McEwen

     <p>
     This program is free software; you can redistribute it and/or
     modify it under the terms of the GNU General Public License
     as published by the Free Software Foundation; either version 2
     of the License, or (at your option) any later version.

     <p>
     This program is distributed in the hope that it will be useful,
     but WITHOUT ANY WARRANTY; without even the implied warranty of
     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
     GNU General Public License for more details 
     (LICENSE.txt).

     <p>
     You should have received a copy of the GNU General Public License
     along with this program; if not, write to the Free Software
     Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
     MA  02110-1301, USA.
     </blockquote>

<HR>
<H2> Acknowledgements </H2>

<p>
JDM would like to thank Daniel Mortlock, Mike Hobson and Anthony Lasenby
for discussions on Bianchi models and Daniel Mortlock also for discussions on 
the implementation of the library.

<p>
This documentation has been generated largely by <a
href="http://theory.lcs.mit.edu/~edemaine/f90doc/">f90doc</a>, with
some minor modifications.

<HR>
<p align=right>
<font size="0.8em">Last modified: 1 July 2008</font>

</BODY>
</HTML>

